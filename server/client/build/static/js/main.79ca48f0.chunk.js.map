{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","async","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","key","style","margin","credits","to","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","exact","path","component","action","combineReducers","state","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector","console","log"],"mappings":"8YAGaA,EAAY,kBAAM,SAAMC,GAAN,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACbE,IAAMC,IAAI,sBADG,OACvBC,EADuB,OAG7BL,EAAS,CAACM,KCNc,aDMEC,QAAQF,EAAIG,OAHT,uCAMlBC,EAAc,SAAAC,GAAK,OAAI,SAAMV,GAAN,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MAChBE,IAAMQ,KAAK,cAAcD,IADT,OAC5BL,EAD4B,OAGlCL,EAAS,CAACM,KCZc,aDYEC,QAAQF,EAAIG,OAHJ,uC,iBEJ9BI,E,iLACK,IAAD,OAKN,OACE,kBAAC,IAAD,CACEC,KAAK,SACLC,YAAY,yBACZC,OAAQ,IACRL,MAAO,SAAAA,GAAK,OAAE,EAAKM,MAAMP,YAAYC,IACrCO,UAAWC,8CAGX,4BAAQC,UAAU,OAAlB,oB,GAfeC,aAuBRC,cAAQ,KAAKC,EAAbD,CAAsBT,GCvB/BW,E,wLAEF,OAAQC,KAAKR,MAAMS,MACjB,KAAK,KACH,OACF,KAAK,EACH,OAAO,4BAAI,uBAAGC,KAAK,gBAAR,sBACb,QACE,MAAO,CACL,wBAAIC,IAAI,KAAI,kBAAC,EAAD,OACZ,wBAAIA,IAAI,IAAIC,MAAO,CAACC,OAAO,WAA3B,WACWL,KAAKR,MAAMS,KAAKK,SAE3B,wBAAIH,IAAI,KAAI,uBAAGD,KAAK,eAAR,e,+BAOlB,OACE,6BACE,yBAAKP,UAAU,eACb,kBAAC,IAAD,CACEY,GAAIP,KAAKR,MAAMS,KAAO,WAAW,IACjCN,UAAU,mBAFZ,UAMA,wBAAIA,UAAU,SACXK,KAAKQ,uB,GA9BGZ,aA0CNC,mBAJf,YACE,MAAO,CAAEI,KADqB,EAANA,QAIXJ,CAAyBE,GClCzBU,EAXC,WACd,OACE,yBAAKL,MAAO,CAACM,UAAU,WACtB,uCADD,qCCGEC,EAAY,kBAAM,0CAClBC,EAAY,kBAAM,0CAGlBC,E,4LAEFb,KAAKR,MAAMjB,c,+BAGX,OACE,yBAAKoB,UAAU,aACb,kBAAC,IAAD,KACE,6BACE,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOmB,OAAK,EAACC,KAAK,IAAIC,UAAWP,IACjC,kBAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,WAAWC,UAAWL,IACxC,kBAAC,IAAD,CAAOI,KAAK,eAAcC,UAAWJ,W,GAZ/BhB,aAoBHC,cAAS,KAAKoB,EAAdpB,CAAsBgB,GC5BtBK,cAAgB,CAC7BjB,KCFa,WAA4B,IAAnBkB,EAAkB,uDAAZ,KAAKF,EAAO,uCAExC,OAAOA,EAAOnC,MACZ,INLsB,aMMpB,OAAOmC,EAAOlC,UAAS,EACzB,QACE,OAAOoC,MCEPC,EAAQC,YAAYC,EAAS,GAAGC,YAAgBC,MAEtDC,IAASC,OACP,kBAAC,IAAD,CAAUN,MAAOA,GAAO,kBAAC,EAAD,OACxBO,SAASC,cAAc,UAGzBC,QAAQC,IAAI,gBAAiBpC,8CAC7BmC,QAAQC,IAAI,iBAAkBpC,gB","file":"static/js/main.79ca48f0.chunk.js","sourcesContent":["import axios from 'axios';\nimport {FETCH_USER} from './types';\n\nexport const fetchUser = () => async dispatch =>{\n  const res=await axios.get('/api/current_user')\n\n  dispatch({type:FETCH_USER,payload:res.data});\n};\n\nexport const handleToken = token => async dispatch =>{\n  const res = await axios.post('/api/stripe',token);\n  \n  dispatch({type:FETCH_USER,payload:res.data});\n}\n","export const FETCH_USER = 'fetch_User';\n","import React,{Component} from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport {connect} from 'react-redux';\nimport * as actions from'../actions';\n\nclass Payments extends Component{\n  render(){\n    //console.log(process.env.REACT_APP_STRIPE_KEY);\n    //debugger;\n\n\n    return(\n      <StripeCheckout\n        name=\"Emaily\"\n        description=\"$5 for 5 email credits\"\n        amount={500}\n        token={token=>this.props.handleToken(token)}        //ontoken will be better\n        stripeKey={process.env.REACT_APP_STRIPE_KEY}\n      >\n\n        <button className='btn'>\n          Add credits\n        </button>\n      </StripeCheckout>\n    );\n  }\n}\n\nexport default connect(null,actions)(Payments);\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Payments from './Payments';\n\nclass Header extends Component{\n  renderContent(){\n    switch (this.props.auth){\n      case null:\n        return;\n      case false:\n        return <li><a href=\"/auth/google\">Login with Google</a></li>;\n      default:\n        return [\n          <li key=\"1\"><Payments /></li>,\n          <li key=\"3\" style={{margin:'0 10px'}}>\n            Credits:{this.props.auth.credits}\n          </li>,\n          <li key=\"2\"><a href=\"/api/logout\">Logout</a></li>\n        ];\n    }\n  }\n\n  render(){\n    //console.log(this.props);\n    return(\n      <nav>\n        <div className=\"nav-wrapper\">\n          <Link\n            to={this.props.auth ? '/surveys':'/'}\n            className=\"brand-logo left\"\n          >\n            Emaily\n          </Link>\n          <ul className=\"right\">\n            {this.renderContent()}\n          </ul>\n        </div>\n      </nav>\n\n    );\n  }\n}\nfunction mapStateToProps({auth}){\n  return { auth };\n\n}\nexport default connect(mapStateToProps)(Header);\n","import React from 'react';\n\nconst Landing = () =>{\n  return (\n    <div style={{textAlign:'center'}}>\n     <h1>\n       Emaily!\n     </h1>\n     Collect Feedback from your users\n   </div>\n );\n};\n\nexport default Landing;\n","import React, {Component} from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport * as action from '../actions';\n\nimport Header from './Header';\nimport Landing from './Landing';\nconst Dashboard = () => <h2>Dashboard</h2>;\nconst SurveyNew = () => <h2>SurveyNew</h2>;\n\n\nclass App extends Component{\n  componentDidMount(){\n    this.props.fetchUser();\n  }\n  render(){\n    return(\n      <div className=\"container\">\n        <BrowserRouter>\n          <div>\n            <Header />\n            <Route exact path=\"/\" component={Landing} />\n            <Route exact path=\"/surveys\" component={Dashboard} />\n            <Route path=\"/surveys/new\"component={SurveyNew} />\n          </div>\n        </BrowserRouter>\n       </div>\n     );\n   }\n}\n\nexport default connect (null,action)(App);\n","import {combineReducers} from 'redux';\nimport authReducer from './authReducer'; //no{}!!\n\nexport default combineReducers({\n  auth:authReducer\n});\n","import {FETCH_USER} from '../actions/types';\n\nexport default function(state=null,action){\n  //console.log(action);\n  switch(action.type){\n    case FETCH_USER:\n      return action.payload||false;\n    default:\n      return state;\n  }\n}\n","import materializeCSS from 'materialize-css/dist/css/materialize.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst store = createStore(reducers,{},applyMiddleware(reduxThunk));\n\nReactDOM.render(\n  <Provider store={store}><App /></Provider>,\n  document.querySelector('#root')\n);\n\nconsole.log('STRIPE KEY IS', process.env.REACT_APP_STRIPE_KEY);\nconsole.log('Environment is', process.env.NODE_ENV);\n"],"sourceRoot":""}